%%%%%%%%%%%%%%%%%%%%
% Copyright and authorship: Fernando Oleo Blanco.
%
% Thanks to all the people that helped me get to where I am.
% Free use, just acknowledge the authors.
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
% IMPORTANT
% THIS DOCUMENT REQUIRES LuaLaTeX OR XeLaTeX AS THE PROCESSING ENGINE
% SOME "SPECIAL" VARIABLES HAVE BEEN SET AT THE BOTTOM OF THE FILE TO HELP
% IT SHOULD WORK AUTOMATICALLY WITH TeXstudio AND Emacs
%%%%%%%%%%%%%%%%%%%%

%%%
% Important. The packages and some extra functionallity is found in the loaded-thesis.sty file!
% Read it to learn more about what you can do with LaTeX and how things are configured.
%%%

\documentclass[12pt, a4paper]{book} % General document definition. In order to have the text completely centered, do not use the twoside option; however, twoside is recommended for printing.

% For general information and help about LaTeX, refer to https://www.overleaf.com/learn

%%% Load packages. Please, read the "loaded-thesis.sty" document to see what is actually loaded!
\usepackage{loaded-thesis}

%% Bibliography configuration

\usepackage[backend=biber,
			style=numeric,
			sorting=none]{biblatex}
        % Citation configuration. We use biblatex, which is more
        % complex, but as customizable as it gets.
        % Please, modify this to your liking.
        % IMPORTANT: this requires biber to be installed and run every time
        % you change the .bib file! To make it easier, if you are using TeXStudio, do the following:
        % 1. Go to options. 2. Select the Build menu. 3 In standard bibliography, change bibtex to biber. 4. Profit
        % These changes will allow the editor to detect any changes and "recompile" the files if needed.
        % For other editors see: https://tex.stackexchange.com/questions/154751/biblatex-with-biber-configuring-my-editor-to-avoid-undefined-citations
        % See link for a quick introduction: https://tex.stackexchange.com/questions/26516/how-to-use-biber/34136
        % If you are having issues with the bibliography, please, search for how to install and run biber!

        % Specialised packages. Please, read their documentation as they provide a lot of functionallity.

% Bibliography resource
\addbibresource{main.bib} % Read bibliography entries/database

\renewcommand*{\nameyeardelim}{\addcomma\addspace} % To add a coma after et al. -> et al.,

%%% CUSTOM COMMANDS

% Add abstract environment to book style
\newenvironment{abstract}%
{\cleardoublepage \null \vfill \begin{center}%
		\bfseries \abstractname \end{center}}%
{\vfill\null}

% Hide environments

% Hide plots to speed up processing by uncommenting the following line
\newif\ifhidepgfplots
%\hidepgfplotstrue % Comment to hide plots
\ifhidepgfplots
 \usepackage{environ}
 \NewEnviron{hide}{}
 \let\tikzpicture\hide
 \let\endtikzpicture\endhide
\fi

%%% Acronyms and glossary

% Read the documentation of glossaries and glossaries-extra. They are incredibly powerful,
% but may require some fiddling to get things exactly how you may want them!

%% Acronyms
% The acronyms definitions are found in the acronym.tex file.
% Modify that file accordingly
\loadglsentries[\acronymtype]{acronyms.tex}

%% Glossary terms
\loadglsentries{glossaries.tex}

%% Force processing of glossaries
\makeglossaries

%%% DOCUMENT

\begin{document}

	\frontmatter % First few pages
	\pagestyle{empty} % We suppress the "fancy" hearders in the front matter

% This creates a basic title page based on the one proposed by Comillas University.
%	\begin{titlepage}
		\begin{figure}
			\centering
			\includegraphics[width=0.3\linewidth]{LogoUniversidadBN}
		\end{figure}
		\centering
		\Large Degree in Industrial Technologies \\ % Modify accordingly
		\vspace*{2.5em} % This just adds some vertical spacing
		\centering
		Bachelor's or Master's final project \\ % Modify accordingly
		\vspace*{1em}
		This is the title of your project % Write here the title of your study
		\\ \large
		\vspace*{3em}
		Author \\ Author's Name \\ % Your name
		\vspace*{1em}
		Supervised by \\ Supervisors' Names % Supervisor(s) name(s)
% {\vfill \vspace*{3em}{Author's signature:\hrulefill \hfill} \hfill \\ \vspace*{4em}Supervisors' signatures:\hrulefill \hfill} % Uncoment this line if you would like to add a signature space
		\vfill
		Madrid \\
		May 2020 % Modify accordingly
%	\end{titlepage}

	\cleardoublepage

	% Coment this block if you don't want a dedication and prelude information page
	% Thanks and other information page
	{\centering Thank yous\\}
	\vfill % Fill the page with whitespace (this is just for aesthetical reasons)
	And other important information

	\cleardoublepage

	% Write your abstract
	\begin{abstract}
		Abstract content
	\end{abstract}

	\cleardoublepage % New page starts on the right hand side

	\tableofcontents % Create the index
	\listoffigures % Create index of figures
	\listoftables % Create index of tables
	\lstlistoflistings % Create index for code sections
	\listofalgorithms % Create index for algorithms
	\printglossary \label{glossaries} % Create glossary enty
	\printglossary[type=\acronymtype] % Create acronym entry

	\cleardoublepage % Open on right hand page (odd numbered)

	\mainmatter

	% Activate customized headers
	\pagestyle{fancy}

	\include{Chapter1/chapter1} % This is the way we should import files and partition our document.

	%% Include more chapters and or documents.

	\appendix

	%% Include appendixes

	\cleardoublepage

% We print the entire bibliography of the document. The author recommends that, if the document contains tremendous amounts of references, that they should be written at the end of each chapter. Refer to https://www.overleaf.com/learn/latex/Bibliography_management_in_LaTeX for more information.
	\printbibliography[heading=bibintoc]

	\backmatter

%	\glsaddallunused % Force the appearance of all the acronyms and glossary terms even if they are not used

\end{document}

%%%
% Here we leave a few variables that help editors select the correct TeX engine
%%%

% Emacs setup

%%% Local Variables:
%%% mode: latex
%%% coding: utf-8
%%% TeX-engine: luatex
%%% TeX-master: t
%%% End:

% TeXstudio setup

% !TeX program = lualatex